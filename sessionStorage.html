<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Web Storage World || Session Storage</title>
	<style>
		.contents {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			border: 2px solid black;
			padding: 15px;
		}

		#generateButton {
		  	margin-top: 5px;
		 	margin-bottom: 15px;
		}
	</style>
</head>
<body>
	<div class="contents" align="center">
		<button id="incrementButton">Tambah nilai</button>
		<button id="clear">Hapus storage</button>
		<h3>Kamu sudah menekan tombol di atas sebanyak:</h3>
		<h2 id="count">0</h2>
	</div>

	<script type="text/javascript">
		// membuat key session storage
		const sessionStorageKey = 'PRESS_FREQUENCY';

		// mengecek apakah session storage tersedia atau tidak
		if (typeof(Storage) !== 'undefined') {
			if (sessionStorage.getItem(sessionStorageKey) === null) {
				// jika belum ada session storage beri nilai awal 0
				sessionStorage.setItem(sessionStorageKey, 0);
			}

			const increBtn = document.getElementById('incrementButton'); // btn tambah nilai
			const clearBtn = document.getElementById('clear'); // btn hapus storage
			const count = document.getElementById('count'); // nilai yang tampil

			// memberi nilai dari session storage
			count.innerText = sessionStorage.getItem(sessionStorageKey);

			// menambah nilai storage ketika tambah nilai diklik
			increBtn.addEventListener('click', function() {
				let nilai = sessionStorage.getItem(sessionStorageKey);
				nilai++;

				sessionStorage.setItem(sessionStorageKey, nilai);
				count.innerText = sessionStorage.getItem(sessionStorageKey);
			})

			// menghapus nilai & mereset ke nilai 0
			clearBtn.addEventListener('click', function() {
				sessionStorage.removeItem(sessionStorageKey);
				count.innerText = 0;
			})
		}

		else {
			alert('Browser yang Anda gunakan tidak mendukung Web Storage');	
		}

	</script>
</body>
</html>